extends layout

block content
  main
    div.betterback#betterback2
      form#guest_form(method='POST' action='')
        div#first_name_wrapper
          label#first_name_label(for="first_name") –ò–º—è:
          input#first_name(type='text', placeholder='–í–∞—à–µ –∏–º—è', name='first_name', required='true', value=(undefined===guest ? '' : guest.first_name))
        div#patronymic_wrapper
          label#patronymic_label(for="patronymic") –û—Ç—á–µ—Å—Ç–≤–æ:
          input#patronymic_input(type='text', placeholder='–í–∞—à–µ –æ—Ç—á–µ—Å—Ç–≤–æ', name='patronymic', required='true', value=(undefined===guest ? '' : guest.patronymic))
        div#date_wrapper
          label#date_label(for="date_of_reservation") –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –¥–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
          input#date_input(type="date", name="date_of_reservation", required='true', value=(undefined===guest ? '' : guest.date_of_reservation_formatted))
        div#room_list.form_list
          ul –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∑–∞–ª–æ–≤: 
            li  "–ë–æ–ª—å—à–æ–π": 500 —á–µ–ª–æ–≤–µ–∫
            li  "–°—Ä–µ–¥–Ω–∏–π": 300 —á–µ–ª–æ–≤–µ–∫
            li  "–ú–∞–ª—ã–π": 100 —á–µ–ª–æ–≤–µ–∫
        div.radio_wrapper
          for room in rooms
            if guest
              if room === guest.room
                div.form_radio
                  input(type="radio", name='room', class='room', id=room, value=room, required, checked)
                  label(for=room class='room_label') #{room}
              else
                div.form_radio
                  input(type="radio", name='room', class='room', id=room, required, value=room )
                  label(for=room class='room_label') #{room}
            if !guest
              div.form_radio
                input(type="radio", name='room', class='room', id=room, required, value=room )
                label(for=room class='room_label') #{room}
        div#time_list.form_list
          ul –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: 
            li üåû–£—Ç—Ä–æ: 10-14:00
            li üåÜ–í–µ—á–µ—Ä: 16-23:00
        div.radio_wrapper
          for time in times
            if guest
              if time === guest.time_of_reservation
                div.form_radio
                  input(type="radio", name='time', id=time, value=time, required, checked)
                  label(for=time) #{time}
              else
                div.form_radio
                  input(type="radio", name='time', id=time, required, value=time )
                  label(for=time) #{time}
            if !guest
              div.form_radio
                input(type="radio", name='time', id=time, required, value=time )
                label(for=time) #{time}
        button#submitter(type='submit') –û—Ç–ø—Ä–∞–≤–∏—Ç—å

        if errors
          ul
            for error in errors
              li(style='color: red;')= error

  script
    include ../public/javascripts/datescript.js
    